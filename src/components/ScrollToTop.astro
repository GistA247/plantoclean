---
import { type Locale, t } from "../i18n";

interface Props {
  locale?: Locale;
}

const { locale = "de" } = Astro.props;
---

<button
  id="scroll-to-top"
  class="fixed bottom-8 left-8 z-50 bg-primary text-white p-3 rounded-full shadow-2xl opacity-0 translate-y-4 pointer-events-none transition-all duration-300 hover:bg-primary-light hover:scale-110 cursor-pointer"
  aria-label={t(locale, "scrollTop.ariaLabel")}
>
  <span class="material-icons text-2xl leading-none">keyboard_arrow_up</span>
</button>

<script>
  const btn = document.getElementById("scroll-to-top");
  if (btn) {
    window.addEventListener("scroll", () => {
      if (window.scrollY > 400) {
        btn.classList.remove("opacity-0", "translate-y-4", "pointer-events-none");
        btn.classList.add("opacity-100", "translate-y-0", "pointer-events-auto");
      } else {
        btn.classList.add("opacity-0", "translate-y-4", "pointer-events-none");
        btn.classList.remove("opacity-100", "translate-y-0", "pointer-events-auto");
      }
    });
    btn.addEventListener("click", () => {
      window.scrollTo({ top: 0, behavior: "smooth" });
    });
  }
</script>
