---
import { type Locale, t } from "../../i18n";
import { seasonalTips } from "../../data/seasonalTips";

interface Props {
  locale?: Locale;
}

const { locale = "de" } = Astro.props;
const base = import.meta.env.BASE_URL.replace(/\/$/, "");

const monthIndex = new Date().getMonth();
const tip = seasonalTips[monthIndex];

const calendarHref = `${base}${locale === "en" ? "/en/care-calendar" : "/pflegekalender"}`;
---

<section class="py-12 px-4 sm:px-6 lg:px-8">
  <div class="max-w-3xl mx-auto">
    <div class="relative bg-white border border-primary/15 rounded-2xl p-6 sm:p-8 shadow-sm overflow-hidden">
      <!-- Decorative accent -->
      <div class="absolute top-0 left-0 w-1.5 h-full bg-primary rounded-l-2xl"></div>

      <div class="flex items-start gap-4 pl-4">
        <span class="material-icons text-primary text-3xl mt-0.5 shrink-0">{tip.icon}</span>
        <div class="flex-1">
          <p class="text-anthracite text-base sm:text-lg leading-relaxed">
            {tip.tip[locale]}
          </p>
          <a
            href={calendarHref}
            class="inline-flex items-center gap-1 mt-4 text-sm font-semibold text-primary hover:text-accent transition-colors"
          >
            {t(locale, "seasonal.linkLabel")}
            <span class="material-icons text-sm">arrow_forward</span>
          </a>
        </div>
      </div>
    </div>
  </div>
</section>
